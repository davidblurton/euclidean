{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../node_modules/euclidean-rhythms/dist/index.js","webpack:///./components/MidiApi.ts","webpack:///./components/Sequencer.ts","webpack:///./components/store.tsx","webpack:///../src/index.js","webpack:///../src/util.js","webpack:///./routes/home/index.tsx?ade6","webpack:///../node_modules/@preact/async-loader/async.js","webpack:///./index.js","webpack:///./components/app.tsx","webpack:///../node_modules/webmidi/webmidi.min.js","webpack:///./components/types.ts","webpack:///../src/create-element.js","webpack:///../src/component.js","webpack:///../src/diff/children.js","webpack:///../src/diff/props.js","webpack:///../src/diff/index.js","webpack:///../src/render.js","webpack:///../src/clone-element.js","webpack:///../src/create-context.js","webpack:///../src/constants.js","webpack:///../src/options.js","webpack:///../src/diff/catch-error.js","webpack:///../node_modules/preact-cli/lib/lib/entry.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","__webpack_require__","installedModules","exports","module","l","installedCssChunks","0","e","promises","Promise","resolve","reject","href","fullhref","p","existingLinkTags","document","getElementsByTagName","dataHref","tag","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","jsonpScriptSrc","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","head","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","s","getPattern","pulses","steps","first","Array","fill","second","firstLength","minLength","Math","min","loopThreshold","x","concat","pattern","forEach","f","MidiApi","input","output","connect","WebMidi","enable","inputs","outputs","on","dispatchEvent","Event","playNote","note","this","duration","log","EventTarget","trackDefaults","clockDividor","beat","Sequencer","midi","clock","tracks","Instrument","KICK","k","Drum808","SNARE","HIHAT","entries","track","er","setN","setK","handleStart","handleStop","handleClock","getState","sequencer","SequencerContext","createContext","addEventListener","useSequencer","useState","state","setState","getHookState","index","options","_hook","currentComponent","hooks","__hooks","_list","_pendingEffects","initialState","reducer","init","hookState","currentIndex","_component","_value","invokeOrReturn","nextValue","action","useReducer","useEffect","callback","args","argsChanged","_args","useContext","context","provider","_id","_defaultValue","sub","props","flushAfterPaintEffects","afterPaintEffects","some","component","_parentDom","invokeCleanup","invokeEffect","hook","_cleanup","result","oldArgs","newArgs","arg","prevRaf","oldBeforeRender","_render","oldAfterDiff","diffed","oldCommit","_commit","oldBeforeUnmount","unmount","vnode","requestAnimationFrame","raf","done","cancelAnimationFrame","commitQueue","_renderCallbacks","filter","cb","let","getCurrentUrl","url","customHistory","location","getCurrentLocation","EMPTY","pathname","search","route","replace","ROUTERS","canRoute","history","setUrl","routeTo","didRoute","subscribers","routeFromLink","node","match","handleLinkClick","button","currentTarget","prevent","stopImmediatePropagation","stopPropagation","preventDefault","delegateLinkHandler","ctrlKey","metaKey","altKey","shiftKey","String","nodeName","toUpperCase","hasAttribute","eventListenersInitialized","super","shouldComponentUpdate","static","onChange","const","children","getMatchingChildren","updating","forceUpdate","componentWillMount","componentDidMount","unlisten","listen","componentWillUnmount","splice","indexOf","componentWillUpdate","componentDidUpdate","invoke","prepareVNodeForRanking","sort","pathRankSort","map","matches","exec","path","newProps","ref","Boolean","render","active","current","previous","previousUrl","router","Router","Route","Link","onClick","req","Async","b","old","Component","base","nextBase","__b","child","default","_","nxt","nodeType","h","dangerouslySetInnerHTML","__html","innerHTML","constructor","App","id","Provider","Home","_singleton","_inputs","_outputs","_userHandlers","_stateChangeQueue","_processingStateChange","_midiInterfaceEvents","_nrpnBuffer","_nrpnEventsEnabled","_nrpnTypes","_notes","_semitones","C","D","E","F","G","A","B","defineProperties","MIDI_SYSTEM_MESSAGES","sysex","timecode","songposition","songselect","tuningrequest","sysexend","start","continue","stop","activesensing","reset","midimessage","unknownsystemmessage","writable","configurable","MIDI_CHANNEL_MESSAGES","noteoff","noteon","keyaftertouch","controlchange","channelmode","nrpn","programchange","channelaftertouch","pitchbend","MIDI_REGISTERED_PARAMETER","pitchbendrange","channelfinetuning","channelcoarsetuning","tuningprogram","tuningbank","modulationrange","azimuthangle","elevationangle","gain","distanceratio","maximumdistance","maximumdistancegain","referencedistanceratio","panspreadangle","rollangle","MIDI_CONTROL_CHANGE_MESSAGES","bankselectcoarse","modulationwheelcoarse","breathcontrollercoarse","footcontrollercoarse","portamentotimecoarse","dataentrycoarse","volumecoarse","balancecoarse","pancoarse","expressioncoarse","effectcontrol1coarse","effectcontrol2coarse","generalpurposeslider1","generalpurposeslider2","generalpurposeslider3","generalpurposeslider4","bankselectfine","modulationwheelfine","breathcontrollerfine","footcontrollerfine","portamentotimefine","dataentryfine","volumefine","balancefine","panfine","expressionfine","effectcontrol1fine","effectcontrol2fine","holdpedal","portamento","sustenutopedal","softpedal","legatopedal","hold2pedal","soundvariation","resonance","soundreleasetime","soundattacktime","brightness","soundcontrol6","soundcontrol7","soundcontrol8","soundcontrol9","soundcontrol10","generalpurposebutton1","generalpurposebutton2","generalpurposebutton3","generalpurposebutton4","reverblevel","tremololevel","choruslevel","celestelevel","phaserlevel","databuttonincrement","databuttondecrement","nonregisteredparametercoarse","nonregisteredparameterfine","registeredparametercoarse","registeredparameterfine","MIDI_NRPN_MESSAGES","entrymsb","entrylsb","increment","decrement","paramlsb","parammsb","nullactiveparameter","MIDI_CHANNEL_MODE_MESSAGES","allsoundoff","resetallcontrollers","localcontrol","allnotesoff","omnimodeoff","omnimodeon","monomodeon","polymodeon","octaveOffset","supported","navigator","enabled","interface","sysexEnabled","nrpnEventsEnabled","set","nrpnTypes","time","performance","now","Input","midiInput","that","channel","system","_midiInput","connection","manufacturer","_initializeUserHandlers","onmidimessage","_onMidiMessage","Output","midiOutput","_midiOutput","wm","requestMIDIAccess","midiAccess","onPortsOpen","promiseTimeout","_updateInputsAndOutputs","onstatechange","_onInterfaceStateChange","events","_resetInterfaceUserHandlers","values","next","open","catch","disable","addListener","listener","TypeError","hasListener","removeListener","toMIDIChannels","channels","isArray","ch","parseInt","getInputById","getOutputById","getInputByName","getOctave","number","floor","getOutputByName","guessNoteNumber","toFixed","round","noteNameToNumber","RangeError","semitones","toLowerCase","_updateInputs","_updateOutputs","remove","updated","nInput","add","j","nOutput","timestamp","timeStamp","port","handler","item","every","chNum","listeners","prop1","prop2","_parseChannelEvent","_parseNrpnEvent","_parseSystemEvent","data1","data2","channelBufferIndex","ccEvent","controller","getCcNameByNumber","rawData","ev","nrpnNumber","nrpnValue","nrpnControllerType","nrpnEvent","command","octave","velocity","rawVelocity","getChannelModeByNumber","cc","status","cm","song","send","parsed","parseFloat","sendSysex","_parseTimeParameter","sendTimecodeQuarterFrame","sendSongPosition","msb","sendSongSelect","sendTuningRequest","sendClock","sendStart","sendContinue","sendStop","sendActiveSensing","sendReset","stopNote","sendChannelMode","nVelocity","isNaN","_convertNoteToArray","nRelease","release","sendKeyAftertouch","pressure","nPressure","sendControlChange","_selectRegisteredParameter","parameter","_selectNonRegisteredParameter","_setCurrentRegisteredParameter","_deselectRegisteredParameter","setRegisteredParameter","setNonRegisteredParameter","incrementRegisteredParameter","decrementRegisteredParameter","setPitchBendRange","cents","setModulationRange","setMasterTuning","coarse","fine","lsb","setTuningProgram","setTuningBank","sendProgramChange","program","sendChannelAftertouch","sendPitchBend","bend","nLevel","substring","notes","assign","obj","removeNode","normalizedProps","arguments","defaultProps","createVNode","_children","_parent","_depth","_dom","_lastDomChild","Fragment","getDomSibling","childIndex","sibling","updateParentDomPointers","enqueueRender","_dirty","q","prevDebounce","debounceRendering","defer","process","newDom","oldDom","parentDom","a","_vnode","pop","diff","_context","ownerSVGElement","commitRoot","diffChildren","newParentVNode","oldParentVNode","isSvg","excessDomChildren","isHydrating","oldVNode","sibDom","firstChildDom","refs","oldChildren","EMPTY_ARR","oldChildrenLength","EMPTY_OBJ","toChildArray","childVNode","outer","nextSibling","insertBefore","applyRef","flattened","setStyle","style","setProperty","IS_NON_DIMENSIONAL","test","dom","oldValue","useCapture","nameLower","cssText","eventProxy","_listeners","removeEventListener","removeAttributeNS","setAttributeNS","removeAttribute","newVNode","tmp","isNew","oldProps","oldState","snapshot","clearProcessingException","cctx","newType","_diff","contextType","_processingException","_pendingError","doRender","_nextState","getDerivedStateFromProps","componentWillReceiveProps","_force","getChildContext","getSnapshotBeforeUpdate","diffElementNodes","_catchError","root","oldHtml","newHtml","localName","createTextNode","createElementNS","childNodes","attributes","hydrate","diffProps","checked","parentVNode","skipRemove","replaceNode","_root","IS_HYDRATE","cloneElement","defaultValue","ctx","Consumer","subs","_this","_props","hasCaught","getDerivedStateFromError","componentDidCatch","update","interopDefault","require","body","firstElementChild","app","preRenderData","inlineDataElement","querySelector","JSON","parse","CLI_DATA"],"mappings":"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","file":"bundle.c4c4c.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t};\n\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t0: 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"\" + ({\"2\":\"route-home/index.tsx\"}[chunkId]||chunkId) + \".chunk.\" + {\"2\":\"616e9\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"2\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"\" + ({\"2\":\"route-home/index.tsx\"}[chunkId]||chunkId) + \".chunk.\" + {\"2\":\"66020\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"mdyV\");\n","\"use strict\";\n\n/**\n   *  Returns the calculated pattern of equally distributed pulses in total steps\n   *  based on the euclidean rhythms algorithm described by Godfried Toussaint\n   *\n   *  @method  getPattern\n   *  @param {Number} pulses Number of pulses in the pattern\n   *  @param {Number} steps  Number of steps in the pattern (pattern length)\n   */\nvar getPattern = function getPattern(pulses, steps) {\n  if (pulses < 0 || steps < 0 || steps < pulses) {\n    return [];\n  }\n\n  // Create the two arrays\n  var first = new Array(pulses).fill([1]);\n  var second = new Array(steps - pulses).fill([0]);\n\n  var firstLength = first.length;\n  var minLength = Math.min(firstLength, second.length);\n\n  var loopThreshold = 0;\n  // Loop until at least one array has length gt 2 (1 for first loop)\n  while (minLength > loopThreshold) {\n    // Allow only loopThreshold to be zero on the first loop\n    if (loopThreshold === 0) {\n      loopThreshold = 1;\n    }\n\n    // For the minimum array loop and concat\n    for (var x = 0; x < minLength; x++) {\n      first[x] = Array.prototype.concat.call(first[x], second[x]);\n    }\n\n    // if the second was the bigger array, slice the remaining elements/arrays and update\n    if (minLength === firstLength) {\n      second = Array.prototype.slice.call(second, minLength);\n    }\n    // Otherwise update the second (smallest array) with the remainders of the first\n    // and update the first array to include onlt the extended sub-arrays\n    else {\n        second = Array.prototype.slice.call(first, minLength);\n        first = Array.prototype.slice.call(first, 0, minLength);\n      }\n    firstLength = first.length;\n    minLength = Math.min(firstLength, second.length);\n  }\n\n  // Build the final array\n  var pattern = [];\n  first.forEach(function (f) {\n    pattern = Array.prototype.concat.call(pattern, f);\n  });\n  second.forEach(function (s) {\n    pattern = Array.prototype.concat.call(pattern, s);\n  });\n\n  return pattern;\n};\n\nmodule.exports = {\n  getPattern: getPattern\n};","import WebMidi, { INoteParam, Input, Output } from 'webmidi';\n\nclass MidiApi extends EventTarget {\n    private input?: Input;\n    private output?: Output;\n\n    public connect() {\n        WebMidi.enable(err => {\n            if (err) {\n                console.error(err);\n                return;\n            }\n\n            this.input = WebMidi.inputs[0];\n            this.output = WebMidi.outputs[0];\n\n            this.input.on(\"clock\", \"all\", () => {\n                this.dispatchEvent(new Event(\"clock\"));\n            });\n\n            this.input.on(\"start\", \"all\", () => {\n                this.dispatchEvent(new Event(\"start\"));\n            });\n\n            this.input.on(\"stop\", \"all\", () => {\n                this.dispatchEvent(new Event(\"stop\"));\n            });\n        });\n    }\n\n    public playNote(note: INoteParam) {\n        if (!this.output) {\n            console.log(\"No output\");\n            return;\n        }\n\n        this.output.playNote(note, 1, {\n            duration: 10\n        });\n    }\n}\n\nexport default MidiApi;\n","import er from 'euclidean-rhythms';\n\nimport MidiApi from './MidiApi';\nimport { Drum808, Instrument, TrackData } from './types';\n\nconst trackDefaults = {\n    clockDividor: 6,\n    beat: 0,\n    pattern: []\n};\n\nclass Sequencer extends EventTarget {\n    private midi: MidiApi;\n    private clock: number = 0;\n\n    private tracks: { [key in Instrument]: TrackData } = {\n        [Instrument.KICK]: {\n            ...trackDefaults,\n            n: 16,\n            k: 4,\n            note: Drum808.KICK\n        },\n        [Instrument.SNARE]: {\n            ...trackDefaults,\n            n: 16,\n            k: 3,\n            note: Drum808.SNARE\n        },\n        [Instrument.HIHAT]: {\n            ...trackDefaults,\n            n: 14,\n            k: 6,\n            note: Drum808.HIHAT\n        }\n    };\n\n    constructor(midi: MidiApi) {\n        super();\n        this.midi = midi;\n\n        Object.entries(this.tracks).forEach(([key, track]) => {\n            track.pattern = er.getPattern(track.k, track.n);\n        });\n    }\n\n    public setN(name: Instrument, n: number) {\n        const track = this.tracks[name];\n\n        track.n = n;\n        track.pattern = er.getPattern(track.k, track.n);\n\n        this.dispatchEvent(new Event(\"update\"));\n    }\n\n    public setK(name: Instrument, k: number) {\n        const track = this.tracks[name];\n\n        track.k = k;\n        track.pattern = er.getPattern(track.k, track.n);\n\n        this.dispatchEvent(new Event(\"update\"));\n    }\n\n    public handleStart() {\n        this.clock = 0;\n\n        Object.entries(this.tracks).forEach(([key, track]) => {\n            track.beat = 0;\n        });\n    }\n\n    public handleStop() {\n        this.clock = 0;\n\n        Object.entries(this.tracks).forEach(([key, track]) => {\n            track.beat = 0;\n        });\n    }\n\n    public handleClock() {\n        this.clock += 1;\n\n        Object.entries(this.tracks).forEach(([key, track]) => {\n            if (this.clock % track.clockDividor !== 0) {\n                return;\n            }\n\n            track.beat = (track.beat + 1) % track.n;\n\n            if (track.pattern[track.beat]) {\n                this.midi.playNote(track.note);\n            }\n\n            this.dispatchEvent(new Event(\"update\"));\n        });\n    }\n\n    public getState() {\n        return this.tracks;\n    }\n}\n\nexport default Sequencer;\n","import { createContext } from 'preact';\nimport { useLayoutEffect, useReducer, useRef, useState } from 'preact/hooks';\n\nimport MidiApi from './MidiApi';\nimport Sequencer from './Sequencer';\nimport { Instrument } from './types';\n\nexport const midi = new MidiApi();\nexport const sequencer = new Sequencer(midi);\n\nexport const SequencerContext = createContext(sequencer);\n\nmidi.addEventListener(\"clock\", sequencer.handleClock.bind(sequencer));\nmidi.addEventListener(\"start\", sequencer.handleStart.bind(sequencer));\nmidi.addEventListener(\"stop\", sequencer.handleStop.bind(sequencer));\n\nfunction createUseSequencerHook() {\n    return function() {\n        const [state, setState] = useState(sequencer.getState());\n\n        sequencer.addEventListener(\"update\", () => {\n            setState(sequencer.getState());\n        });\n\n        return state;\n    };\n}\n\nexport const useSequencer = createUseSequencerHook();\n","import { cloneElement, createElement, Component, toChildArray } from 'preact';\nimport { exec, prepareVNodeForRanking, assign, pathRankSort } from './util';\n\nlet customHistory = null;\n\nconst ROUTERS = [];\n\nconst subscribers = [];\n\nconst EMPTY = {};\n\nfunction setUrl(url, type='push') {\n\tif (customHistory && customHistory[type]) {\n\t\tcustomHistory[type](url);\n\t}\n\telse if (typeof history!=='undefined' && history[type+'State']) {\n\t\thistory[type+'State'](null, null, url);\n\t}\n}\n\n\nfunction getCurrentUrl() {\n\tlet url;\n\tif (customHistory && customHistory.location) {\n\t\turl = customHistory.location;\n\t}\n\telse if (customHistory && customHistory.getCurrentLocation) {\n\t\turl = customHistory.getCurrentLocation();\n\t}\n\telse {\n\t\turl = typeof location!=='undefined' ? location : EMPTY;\n\t}\n\treturn `${url.pathname || ''}${url.search || ''}`;\n}\n\n\n\nfunction route(url, replace=false) {\n\tif (typeof url!=='string' && url.url) {\n\t\treplace = url.replace;\n\t\turl = url.url;\n\t}\n\n\t// only push URL into history if we can handle it\n\tif (canRoute(url)) {\n\t\tsetUrl(url, replace ? 'replace' : 'push');\n\t}\n\n\treturn routeTo(url);\n}\n\n\n/** Check if the given URL can be handled by any router instances. */\nfunction canRoute(url) {\n\tfor (let i=ROUTERS.length; i--; ) {\n\t\tif (ROUTERS[i].canRoute(url)) return true;\n\t}\n\treturn false;\n}\n\n\n/** Tell all router instances to handle the given URL.  */\nfunction routeTo(url) {\n\tlet didRoute = false;\n\tfor (let i=0; i<ROUTERS.length; i++) {\n\t\tif (ROUTERS[i].routeTo(url)===true) {\n\t\t\tdidRoute = true;\n\t\t}\n\t}\n\tfor (let i=subscribers.length; i--; ) {\n\t\tsubscribers[i](url);\n\t}\n\treturn didRoute;\n}\n\n\nfunction routeFromLink(node) {\n\t// only valid elements\n\tif (!node || !node.getAttribute) return;\n\n\tlet href = node.getAttribute('href'),\n\t\ttarget = node.getAttribute('target');\n\n\t// ignore links with targets and non-path URLs\n\tif (!href || !href.match(/^\\//g) || (target && !target.match(/^_?self$/i))) return;\n\n\t// attempt to route, if no match simply cede control to browser\n\treturn route(href);\n}\n\n\nfunction handleLinkClick(e) {\n\tif (e.button==0) {\n\t\trouteFromLink(e.currentTarget || e.target || this);\n\t\treturn prevent(e);\n\t}\n}\n\n\nfunction prevent(e) {\n\tif (e) {\n\t\tif (e.stopImmediatePropagation) e.stopImmediatePropagation();\n\t\tif (e.stopPropagation) e.stopPropagation();\n\t\te.preventDefault();\n\t}\n\treturn false;\n}\n\n\nfunction delegateLinkHandler(e) {\n\t// ignore events the browser takes care of already:\n\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button!==0) return;\n\n\tlet t = e.target;\n\tdo {\n\t\tif (String(t.nodeName).toUpperCase()==='A' && t.getAttribute('href')) {\n\t\t\tif (t.hasAttribute('native')) return;\n\t\t\t// if link is handled by the router, prevent browser defaults\n\t\t\tif (routeFromLink(t)) {\n\t\t\t\treturn prevent(e);\n\t\t\t}\n\t\t}\n\t} while ((t=t.parentNode));\n}\n\n\nlet eventListenersInitialized = false;\n\nfunction initEventListeners() {\n\tif (eventListenersInitialized) return;\n\n\tif (typeof addEventListener==='function') {\n\t\tif (!customHistory) {\n\t\t\taddEventListener('popstate', () => {\n\t\t\t\trouteTo(getCurrentUrl());\n\t\t\t});\n\t\t}\n\t\taddEventListener('click', delegateLinkHandler);\n\t}\n\teventListenersInitialized = true;\n}\n\n\nclass Router extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tif (props.history) {\n\t\t\tcustomHistory = props.history;\n\t\t}\n\n\t\tthis.state = {\n\t\t\turl: props.url || getCurrentUrl()\n\t\t};\n\n\t\tinitEventListeners();\n\t}\n\n\tshouldComponentUpdate(props) {\n\t\tif (props.static!==true) return true;\n\t\treturn props.url!==this.props.url || props.onChange!==this.props.onChange;\n\t}\n\n\t/** Check if the given URL can be matched against any children */\n\tcanRoute(url) {\n\t\tconst children = toChildArray(this.props.children);\n\t\treturn this.getMatchingChildren(children, url, false).length > 0;\n\t}\n\n\t/** Re-render children with a new URL to match against. */\n\trouteTo(url) {\n\t\tthis.setState({ url });\n\n\t\tconst didRoute = this.canRoute(url);\n\n\t\t// trigger a manual re-route if we're not in the middle of an update:\n\t\tif (!this.updating) this.forceUpdate();\n\n\t\treturn didRoute;\n\t}\n\n\tcomponentWillMount() {\n\t\tROUTERS.push(this);\n\t\tthis.updating = true;\n\t}\n\n\tcomponentDidMount() {\n\t\tif (customHistory) {\n\t\t\tthis.unlisten = customHistory.listen((location) => {\n\t\t\t\tthis.routeTo(`${location.pathname || ''}${location.search || ''}`);\n\t\t\t});\n\t\t}\n\t\tthis.updating = false;\n\t}\n\n\tcomponentWillUnmount() {\n\t\tif (typeof this.unlisten==='function') this.unlisten();\n\t\tROUTERS.splice(ROUTERS.indexOf(this), 1);\n\t}\n\n\tcomponentWillUpdate() {\n\t\tthis.updating = true;\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.updating = false;\n\t}\n\n\tgetMatchingChildren(children, url, invoke) {\n\t\treturn children\n\t\t\t.filter(prepareVNodeForRanking)\n\t\t\t.sort(pathRankSort)\n\t\t\t.map( vnode => {\n\t\t\t\tlet matches = exec(url, vnode.props.path, vnode.props);\n\t\t\t\tif (matches) {\n\t\t\t\t\tif (invoke !== false) {\n\t\t\t\t\t\tlet newProps = { url, matches };\n\t\t\t\t\t\tassign(newProps, matches);\n\t\t\t\t\t\tdelete newProps.ref;\n\t\t\t\t\t\tdelete newProps.key;\n\t\t\t\t\t\treturn cloneElement(vnode, newProps);\n\t\t\t\t\t}\n\t\t\t\t\treturn vnode;\n\t\t\t\t}\n\t\t\t}).filter(Boolean);\n\t}\n\n\trender({ children, onChange }, { url }) {\n\t\tlet active = this.getMatchingChildren(toChildArray(children), url, true);\n\n\t\tlet current = active[0] || null;\n\n\t\tlet previous = this.previousUrl;\n\t\tif (url!==previous) {\n\t\t\tthis.previousUrl = url;\n\t\t\tif (typeof onChange==='function') {\n\t\t\t\tonChange({\n\t\t\t\t\trouter: this,\n\t\t\t\t\turl,\n\t\t\t\t\tprevious,\n\t\t\t\t\tactive,\n\t\t\t\t\tcurrent\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn current;\n\t}\n}\n\nconst Link = (props) => (\n\tcreateElement('a', assign({ onClick: handleLinkClick }, props))\n);\n\nconst Route = props => createElement(props.component, props);\n\nRouter.subscribers = subscribers;\nRouter.getCurrentUrl = getCurrentUrl;\nRouter.route = route;\nRouter.Router = Router;\nRouter.Route = Route;\nRouter.Link = Link;\n\nexport { subscribers, getCurrentUrl, route, Router, Route, Link, exec };\nexport default Router;\n","/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n","\n\t\timport Async from '@preact/async-loader/async';\n\n\t\tfunction load(cb) {\n\t\t\trequire.ensure([], function (require) {\n\t\t\t\tcb( require(\"!!../../../node_modules/babel-loader/lib/index.js??ref--4!./index.tsx\") );\n\t\t\t}, \"route-home/index.tsx\");\n\t\t}\n\n\t\texport default Async(load);\n\t","import { h, Component } from 'preact';\n\nexport default function(req) {\n\tfunction Async() {\n\t\tComponent.call(this);\n\n\t\tlet b, old;\n\t\tthis.componentWillMount = () => {\n\t\t\tb = this.base = this.nextBase || this.__b; // short circuits 1st render\n\t\t\treq(m => {\n\t\t\t\tthis.setState({ child: m.default || m });\n\t\t\t});\n\t\t};\n\n\t\tthis.shouldComponentUpdate = (_, nxt) => {\n\t\t\tnxt = nxt.child === void 0;\n\t\t\tif (nxt && old === void 0 && b) {\n\t\t\t\t// Node.TEXT_NODE\n\t\t\t\tif (b.nodeType === 3) {\n\t\t\t\t\told = b.data;\n\t\t\t\t} else {\n\t\t\t\t\told = h(b.nodeName, {\n\t\t\t\t\t\tdangerouslySetInnerHTML: { __html: b.innerHTML },\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\told = ''; // dump it\n\t\t\t}\n\t\t\treturn !nxt;\n\t\t};\n\n\t\tthis.render = (p, s) => (s.child ? h(s.child, p) : old);\n\t}\n\t(Async.prototype = new Component()).constructor = Async;\n\treturn Async;\n}\n","import \"./style/index.css\";\nimport App from \"./components/app.tsx\";\n\nexport default App;\n","import { h } from 'preact';\nimport { Route, Router, RouterOnChangeArgs } from 'preact-router';\nimport { useEffect } from 'preact/hooks';\n\nimport Home from '../routes/home';\nimport { midi, sequencer, SequencerContext } from './store';\n\nif ((module as any).hot) {\n    // tslint:disable-next-line:no-var-requires\n    require(\"preact/debug\");\n}\n\nconst App = () => {\n    let currentUrl: string;\n    const handleRoute = (e: RouterOnChangeArgs) => {\n        currentUrl = e.url;\n    };\n\n    useEffect(() => {\n        midi.connect();\n    });\n\n    return (\n        <div id=\"app\">\n            <SequencerContext.Provider value={sequencer}>\n                <Router onChange={handleRoute}>\n                    <Route path=\"/\" component={Home} />\n                </Router>\n            </SequencerContext.Provider>\n        </div>\n    );\n};\n\nexport default App;\n","/*\n\nWebMidi v2.5.1\n\nWebMidi.js helps you tame the Web MIDI API. Send and receive MIDI messages with ease. Control instruments with user-friendly functions (playNote, sendPitchBend, etc.). React to MIDI input with simple event listeners (noteon, pitchbend, controlchange, etc.).\nhttps://github.com/djipco/webmidi\n\n\nThe MIT License (MIT)\n\nCopyright (c) 2015-2019, Jean-Philippe Côté\n\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and\nassociated documentation files (the \"Software\"), to deal in the Software without restriction,\nincluding without limitation the rights to use, copy, modify, merge, publish, distribute,\nsublicense, and/or sell copies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial\nportions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT\nNOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\nNONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES\nOR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN\nCONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\n\n!function(scope){\"use strict\";function WebMidi(){if(WebMidi.prototype._singleton)throw new Error(\"WebMidi is a singleton, it cannot be instantiated directly.\");(WebMidi.prototype._singleton=this)._inputs=[],this._outputs=[],this._userHandlers={},this._stateChangeQueue=[],this._processingStateChange=!1,this._midiInterfaceEvents=[\"connected\",\"disconnected\"],this._nrpnBuffer=[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]],this._nrpnEventsEnabled=!0,this._nrpnTypes=[\"entry\",\"increment\",\"decrement\"],this._notes=[\"C\",\"C#\",\"D\",\"D#\",\"E\",\"F\",\"F#\",\"G\",\"G#\",\"A\",\"A#\",\"B\"],this._semitones={C:0,D:2,E:4,F:5,G:7,A:9,B:11},Object.defineProperties(this,{MIDI_SYSTEM_MESSAGES:{value:{sysex:240,timecode:241,songposition:242,songselect:243,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MESSAGES:{value:{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,channelmode:11,nrpn:11,programchange:12,channelaftertouch:13,pitchbend:14},writable:!1,enumerable:!0,configurable:!1},MIDI_REGISTERED_PARAMETER:{value:{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]},writable:!1,enumerable:!0,configurable:!1},MIDI_CONTROL_CHANGE_MESSAGES:{value:{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101},writable:!1,enumerable:!0,configurable:!1},MIDI_NRPN_MESSAGES:{value:{entrymsb:6,entrylsb:38,increment:96,decrement:97,paramlsb:98,parammsb:99,nullactiveparameter:127},writable:!1,enumerable:!0,configurable:!1},MIDI_CHANNEL_MODE_MESSAGES:{value:{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127},writable:!1,enumerable:!0,configurable:!1},octaveOffset:{value:0,writable:!0,enumerable:!0,configurable:!1}}),Object.defineProperties(this,{supported:{enumerable:!0,get:function(){return\"requestMIDIAccess\"in navigator}},enabled:{enumerable:!0,get:function(){return void 0!==this.interface}.bind(this)},inputs:{enumerable:!0,get:function(){return this._inputs}.bind(this)},outputs:{enumerable:!0,get:function(){return this._outputs}.bind(this)},sysexEnabled:{enumerable:!0,get:function(){return!(!this.interface||!this.interface.sysexEnabled)}.bind(this)},nrpnEventsEnabled:{enumerable:!0,get:function(){return!!this._nrpnEventsEnabled}.bind(this),set:function(enabled){return this._nrpnEventsEnabled=enabled,this._nrpnEventsEnabled}},nrpnTypes:{enumerable:!0,get:function(){return this._nrpnTypes}.bind(this)},time:{enumerable:!0,get:function(){return performance.now()}}})}var wm=new WebMidi;function Input(midiInput){var that=this;this._userHandlers={channel:{},system:{}},this._midiInput=midiInput,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return that._midiInput.connection}},id:{enumerable:!0,get:function(){return that._midiInput.id}},manufacturer:{enumerable:!0,get:function(){return that._midiInput.manufacturer}},name:{enumerable:!0,get:function(){return that._midiInput.name}},state:{enumerable:!0,get:function(){return that._midiInput.state}},type:{enumerable:!0,get:function(){return that._midiInput.type}}}),this._initializeUserHandlers(),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}function Output(midiOutput){var that=this;this._midiOutput=midiOutput,Object.defineProperties(this,{connection:{enumerable:!0,get:function(){return that._midiOutput.connection}},id:{enumerable:!0,get:function(){return that._midiOutput.id}},manufacturer:{enumerable:!0,get:function(){return that._midiOutput.manufacturer}},name:{enumerable:!0,get:function(){return that._midiOutput.name}},state:{enumerable:!0,get:function(){return that._midiOutput.state}},type:{enumerable:!0,get:function(){return that._midiOutput.type}}})}WebMidi.prototype.enable=function(callback,sysex){this.enabled||(this.supported?navigator.requestMIDIAccess({sysex:sysex}).then(function(midiAccess){var promiseTimeout,events=[],promises=[];this.interface=midiAccess,this._resetInterfaceUserHandlers(),this.interface.onstatechange=function(e){events.push(e)};for(var inputs=midiAccess.inputs.values(),input=inputs.next();input&&!input.done;input=inputs.next())promises.push(input.value.open());for(var outputs=midiAccess.outputs.values(),output=outputs.next();output&&!output.done;output=outputs.next())promises.push(output.value.open());function onPortsOpen(){clearTimeout(promiseTimeout),this._updateInputsAndOutputs(),this.interface.onstatechange=this._onInterfaceStateChange.bind(this),\"function\"==typeof callback&&callback.call(this),events.forEach(function(event){this._onInterfaceStateChange(event)}.bind(this))}promiseTimeout=setTimeout(onPortsOpen.bind(this),200),Promise&&Promise.all(promises).catch(function(err){}).then(onPortsOpen.bind(this))}.bind(this),function(err){\"function\"==typeof callback&&callback.call(this,err)}.bind(this)):\"function\"==typeof callback&&callback(new Error(\"The Web MIDI API is not supported by your browser.\")))},WebMidi.prototype.disable=function(){if(!this.supported)throw new Error(\"The Web MIDI API is not supported by your browser.\");this.interface&&(this.interface.onstatechange=void 0),this.interface=void 0,this._inputs=[],this._outputs=[],this._nrpnEventsEnabled=!0,this._resetInterfaceUserHandlers()},WebMidi.prototype.addListener=function(type,listener){if(!this.enabled)throw new Error(\"WebMidi must be enabled before adding event listeners.\");if(\"function\"!=typeof listener)throw new TypeError(\"The 'listener' parameter must be a function.\");if(!(0<=this._midiInterfaceEvents.indexOf(type)))throw new TypeError(\"The specified event type is not supported.\");return this._userHandlers[type].push(listener),this},WebMidi.prototype.hasListener=function(type,listener){if(!this.enabled)throw new Error(\"WebMidi must be enabled before checking event listeners.\");if(\"function\"!=typeof listener)throw new TypeError(\"The 'listener' parameter must be a function.\");if(!(0<=this._midiInterfaceEvents.indexOf(type)))throw new TypeError(\"The specified event type is not supported.\");for(var o=0;o<this._userHandlers[type].length;o++)if(this._userHandlers[type][o]===listener)return!0;return!1},WebMidi.prototype.removeListener=function(type,listener){if(!this.enabled)throw new Error(\"WebMidi must be enabled before removing event listeners.\");if(void 0!==listener&&\"function\"!=typeof listener)throw new TypeError(\"The 'listener' parameter must be a function.\");if(0<=this._midiInterfaceEvents.indexOf(type))if(listener)for(var o=0;o<this._userHandlers[type].length;o++)this._userHandlers[type][o]===listener&&this._userHandlers[type].splice(o,1);else this._userHandlers[type]=[];else{if(void 0!==type)throw new TypeError(\"The specified event type is not supported.\");this._resetInterfaceUserHandlers()}return this},WebMidi.prototype.toMIDIChannels=function(channel){var channels;if(\"all\"===channel||void 0===channel)channels=[\"all\"];else{if(\"none\"===channel)return channels=[];channels=Array.isArray(channel)?channel:[channel]}return-1<channels.indexOf(\"all\")&&(channels=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]),channels.map(function(ch){return parseInt(ch)}).filter(function(ch){return 1<=ch&&ch<=16})},WebMidi.prototype.getInputById=function(id){if(!this.enabled)throw new Error(\"WebMidi is not enabled.\");id=String(id);for(var i=0;i<this.inputs.length;i++)if(this.inputs[i].id===id)return this.inputs[i];return!1},WebMidi.prototype.getOutputById=function(id){if(!this.enabled)throw new Error(\"WebMidi is not enabled.\");id=String(id);for(var i=0;i<this.outputs.length;i++)if(this.outputs[i].id===id)return this.outputs[i];return!1},WebMidi.prototype.getInputByName=function(name){if(!this.enabled)throw new Error(\"WebMidi is not enabled.\");for(var i=0;i<this.inputs.length;i++)if(~this.inputs[i].name.indexOf(name))return this.inputs[i];return!1},WebMidi.prototype.getOctave=function(number){if(null!=number&&0<=number&&number<=127)return Math.floor(Math.floor(number)/12-1)+Math.floor(wm.octaveOffset)},WebMidi.prototype.getOutputByName=function(name){if(!this.enabled)throw new Error(\"WebMidi is not enabled.\");for(var i=0;i<this.outputs.length;i++)if(~this.outputs[i].name.indexOf(name))return this.outputs[i];return!1},WebMidi.prototype.guessNoteNumber=function(input){var output=!1;if(input&&input.toFixed&&0<=input&&input<=127?output=Math.round(input):0<=parseInt(input)&&parseInt(input)<=127?output=parseInt(input):(\"string\"==typeof input||input instanceof String)&&(output=this.noteNameToNumber(input)),!1===output)throw new Error(\"Invalid input value (\"+input+\").\");return output},WebMidi.prototype.noteNameToNumber=function(name){\"string\"!=typeof name&&(name=\"\");var matches=name.match(/([CDEFGAB])(#{0,2}|b{0,2})(-?\\d+)/i);if(!matches)throw new RangeError(\"Invalid note name.\");var semitones=wm._semitones[matches[1].toUpperCase()],result=12*(parseInt(matches[3])+1-Math.floor(wm.octaveOffset))+semitones;if(-1<matches[2].toLowerCase().indexOf(\"b\")?result-=matches[2].length:-1<matches[2].toLowerCase().indexOf(\"#\")&&(result+=matches[2].length),result<0||127<result)throw new RangeError(\"Invalid note name or note outside valid range.\");return result},WebMidi.prototype._updateInputsAndOutputs=function(){this._updateInputs(),this._updateOutputs()},WebMidi.prototype._updateInputs=function(){for(var i=0;i<this._inputs.length;i++){for(var remove=!0,updated=this.interface.inputs.values(),input=updated.next();input&&!input.done;input=updated.next())if(this._inputs[i]._midiInput===input.value){remove=!1;break}remove&&this._inputs.splice(i,1)}this.interface&&this.interface.inputs.forEach(function(nInput){for(var add=!0,j=0;j<this._inputs.length;j++)this._inputs[j]._midiInput===nInput&&(add=!1);add&&this._inputs.push(new Input(nInput))}.bind(this))},WebMidi.prototype._updateOutputs=function(){for(var i=0;i<this._outputs.length;i++){for(var remove=!0,updated=this.interface.outputs.values(),output=updated.next();output&&!output.done;output=updated.next())if(this._outputs[i]._midiOutput===output.value){remove=!1;break}remove&&this._outputs.splice(i,1)}this.interface&&this.interface.outputs.forEach(function(nOutput){for(var add=!0,j=0;j<this._outputs.length;j++)this._outputs[j]._midiOutput===nOutput&&(add=!1);add&&this._outputs.push(new Output(nOutput))}.bind(this))},WebMidi.prototype._onInterfaceStateChange=function(e){this._updateInputsAndOutputs();var event={timestamp:e.timeStamp,type:e.port.state};this.interface&&\"connected\"===e.port.state?\"output\"===e.port.type?event.port=this.getOutputById(e.port.id):\"input\"===e.port.type&&(event.port=this.getInputById(e.port.id)):event.port={connection:\"closed\",id:e.port.id,manufacturer:e.port.manufacturer,name:e.port.name,state:e.port.state,type:e.port.type},this._userHandlers[e.port.state].forEach(function(handler){handler(event)})},WebMidi.prototype._resetInterfaceUserHandlers=function(){for(var i=0;i<this._midiInterfaceEvents.length;i++)this._userHandlers[this._midiInterfaceEvents[i]]=[]},Input.prototype.on=Input.prototype.addListener=function(type,channel,listener){var that=this;if(void 0===channel&&(channel=\"all\"),Array.isArray(channel)||(channel=[channel]),channel.forEach(function(item){if(\"all\"!==item&&!(1<=item&&item<=16))throw new RangeError(\"The 'channel' parameter is invalid.\")}),\"function\"!=typeof listener)throw new TypeError(\"The 'listener' parameter must be a function.\");if(void 0!==wm.MIDI_SYSTEM_MESSAGES[type])this._userHandlers.system[type]||(this._userHandlers.system[type]=[]),this._userHandlers.system[type].push(listener);else{if(void 0===wm.MIDI_CHANNEL_MESSAGES[type])throw new TypeError(\"The specified event type is not supported.\");if(-1<channel.indexOf(\"all\")){channel=[];for(var j=1;j<=16;j++)channel.push(j)}this._userHandlers.channel[type]||(this._userHandlers.channel[type]=[]),channel.forEach(function(ch){that._userHandlers.channel[type][ch]||(that._userHandlers.channel[type][ch]=[]),that._userHandlers.channel[type][ch].push(listener)})}return this},Input.prototype.hasListener=function(type,channel,listener){var that=this;if(\"function\"!=typeof listener)throw new TypeError(\"The 'listener' parameter must be a function.\");if(void 0===channel&&(channel=\"all\"),channel.constructor!==Array&&(channel=[channel]),void 0!==wm.MIDI_SYSTEM_MESSAGES[type]){for(var o=0;o<this._userHandlers.system[type].length;o++)if(this._userHandlers.system[type][o]===listener)return!0}else if(void 0!==wm.MIDI_CHANNEL_MESSAGES[type]){if(-1<channel.indexOf(\"all\")){channel=[];for(var j=1;j<=16;j++)channel.push(j)}return!!this._userHandlers.channel[type]&&channel.every(function(chNum){var listeners=that._userHandlers.channel[type][chNum];return listeners&&-1<listeners.indexOf(listener)})}return!1},Input.prototype.removeListener=function(type,channel,listener){var that=this;if(void 0!==listener&&\"function\"!=typeof listener)throw new TypeError(\"The 'listener' parameter must be a function.\");if(void 0===channel&&(channel=\"all\"),channel.constructor!==Array&&(channel=[channel]),void 0!==wm.MIDI_SYSTEM_MESSAGES[type])if(void 0===listener)this._userHandlers.system[type]=[];else for(var o=0;o<this._userHandlers.system[type].length;o++)this._userHandlers.system[type][o]===listener&&this._userHandlers.system[type].splice(o,1);else if(void 0!==wm.MIDI_CHANNEL_MESSAGES[type]){if(-1<channel.indexOf(\"all\")){channel=[];for(var j=1;j<=16;j++)channel.push(j)}if(!this._userHandlers.channel[type])return this;channel.forEach(function(chNum){var listeners=that._userHandlers.channel[type][chNum];if(listeners)if(void 0===listener)that._userHandlers.channel[type][chNum]=[];else for(var l=0;l<listeners.length;l++)listeners[l]===listener&&listeners.splice(l,1)})}else{if(void 0!==type)throw new TypeError(\"The specified event type is not supported.\");this._initializeUserHandlers()}return this},Input.prototype._initializeUserHandlers=function(){for(var prop1 in wm.MIDI_CHANNEL_MESSAGES)wm.MIDI_CHANNEL_MESSAGES.hasOwnProperty(prop1)&&(this._userHandlers.channel[prop1]={});for(var prop2 in wm.MIDI_SYSTEM_MESSAGES)wm.MIDI_SYSTEM_MESSAGES.hasOwnProperty(prop2)&&(this._userHandlers.system[prop2]=[])},Input.prototype._onMidiMessage=function(e){if(0<this._userHandlers.system.midimessage.length){var event={target:this,data:e.data,timestamp:e.timeStamp,type:\"midimessage\"};this._userHandlers.system.midimessage.forEach(function(callback){callback(event)})}e.data[0]<240?(this._parseChannelEvent(e),this._parseNrpnEvent(e)):e.data[0]<=255&&this._parseSystemEvent(e)},Input.prototype._parseNrpnEvent=function(e){var data1,data2,command=e.data[0]>>4,channelBufferIndex=15&e.data[0],channel=1+channelBufferIndex;if(1<e.data.length&&(data1=e.data[1],data2=2<e.data.length?e.data[2]:void 0),wm.nrpnEventsEnabled&&command===wm.MIDI_CHANNEL_MESSAGES.controlchange&&(data1>=wm.MIDI_NRPN_MESSAGES.increment&&data1<=wm.MIDI_NRPN_MESSAGES.parammsb||data1===wm.MIDI_NRPN_MESSAGES.entrymsb||data1===wm.MIDI_NRPN_MESSAGES.entrylsb)){var ccEvent={target:this,type:\"controlchange\",data:e.data,timestamp:e.timeStamp,channel:channel,controller:{number:data1,name:this.getCcNameByNumber(data1)},value:data2};if(ccEvent.controller.number===wm.MIDI_NRPN_MESSAGES.parammsb&&ccEvent.value!=wm.MIDI_NRPN_MESSAGES.nullactiveparameter)wm._nrpnBuffer[channelBufferIndex]=[],wm._nrpnBuffer[channelBufferIndex][0]=ccEvent;else if(1===wm._nrpnBuffer[channelBufferIndex].length&&ccEvent.controller.number===wm.MIDI_NRPN_MESSAGES.paramlsb)wm._nrpnBuffer[channelBufferIndex].push(ccEvent);else if(2!==wm._nrpnBuffer[channelBufferIndex].length||ccEvent.controller.number!==wm.MIDI_NRPN_MESSAGES.increment&&ccEvent.controller.number!==wm.MIDI_NRPN_MESSAGES.decrement&&ccEvent.controller.number!==wm.MIDI_NRPN_MESSAGES.entrymsb)if(3===wm._nrpnBuffer[channelBufferIndex].length&&wm._nrpnBuffer[channelBufferIndex][2].number===wm.MIDI_NRPN_MESSAGES.entrymsb&&ccEvent.controller.number===wm.MIDI_NRPN_MESSAGES.entrylsb)wm._nrpnBuffer[channelBufferIndex].push(ccEvent);else if(3<=wm._nrpnBuffer[channelBufferIndex].length&&wm._nrpnBuffer[channelBufferIndex].length<=4&&ccEvent.controller.number===wm.MIDI_NRPN_MESSAGES.parammsb&&ccEvent.value===wm.MIDI_NRPN_MESSAGES.nullactiveparameter)wm._nrpnBuffer[channelBufferIndex].push(ccEvent);else if(4<=wm._nrpnBuffer[channelBufferIndex].length&&wm._nrpnBuffer[channelBufferIndex].length<=5&&ccEvent.controller.number===wm.MIDI_NRPN_MESSAGES.paramlsb&&ccEvent.value===wm.MIDI_NRPN_MESSAGES.nullactiveparameter){wm._nrpnBuffer[channelBufferIndex].push(ccEvent);var rawData=[];wm._nrpnBuffer[channelBufferIndex].forEach(function(ev){rawData.push(ev.data)});var nrpnNumber=wm._nrpnBuffer[channelBufferIndex][0].value<<7|wm._nrpnBuffer[channelBufferIndex][1].value,nrpnValue=wm._nrpnBuffer[channelBufferIndex][2].value;6===wm._nrpnBuffer[channelBufferIndex].length&&(nrpnValue=wm._nrpnBuffer[channelBufferIndex][2].value<<7|wm._nrpnBuffer[channelBufferIndex][3].value);var nrpnControllerType=\"\";switch(wm._nrpnBuffer[channelBufferIndex][2].controller.number){case wm.MIDI_NRPN_MESSAGES.entrymsb:nrpnControllerType=wm._nrpnTypes[0];break;case wm.MIDI_NRPN_MESSAGES.increment:nrpnControllerType=wm._nrpnTypes[1];break;case wm.MIDI_NRPN_MESSAGES.decrement:nrpnControllerType=wm._nrpnTypes[2];break;default:throw new Error(\"The NPRN type was unidentifiable.\")}var nrpnEvent={timestamp:ccEvent.timestamp,channel:ccEvent.channel,type:\"nrpn\",data:rawData,controller:{number:nrpnNumber,type:nrpnControllerType,name:\"Non-Registered Parameter \"+nrpnNumber},value:nrpnValue};wm._nrpnBuffer[channelBufferIndex]=[],this._userHandlers.channel[nrpnEvent.type]&&this._userHandlers.channel[nrpnEvent.type][nrpnEvent.channel]&&this._userHandlers.channel[nrpnEvent.type][nrpnEvent.channel].forEach(function(callback){callback(nrpnEvent)})}else wm._nrpnBuffer[channelBufferIndex]=[];else wm._nrpnBuffer[channelBufferIndex].push(ccEvent)}},Input.prototype._parseChannelEvent=function(e){var data1,data2,command=e.data[0]>>4,channel=1+(15&e.data[0]);1<e.data.length&&(data1=e.data[1],data2=2<e.data.length?e.data[2]:void 0);var event={target:this,data:e.data,timestamp:e.timeStamp,channel:channel};command===wm.MIDI_CHANNEL_MESSAGES.noteoff||command===wm.MIDI_CHANNEL_MESSAGES.noteon&&0===data2?(event.type=\"noteoff\",event.note={number:data1,name:wm._notes[data1%12],octave:wm.getOctave(data1)},event.velocity=data2/127,event.rawVelocity=data2):command===wm.MIDI_CHANNEL_MESSAGES.noteon?(event.type=\"noteon\",event.note={number:data1,name:wm._notes[data1%12],octave:wm.getOctave(data1)},event.velocity=data2/127,event.rawVelocity=data2):command===wm.MIDI_CHANNEL_MESSAGES.keyaftertouch?(event.type=\"keyaftertouch\",event.note={number:data1,name:wm._notes[data1%12],octave:wm.getOctave(data1)},event.value=data2/127):command===wm.MIDI_CHANNEL_MESSAGES.controlchange&&0<=data1&&data1<=119?(event.type=\"controlchange\",event.controller={number:data1,name:this.getCcNameByNumber(data1)},event.value=data2):command===wm.MIDI_CHANNEL_MESSAGES.channelmode&&120<=data1&&data1<=127?(event.type=\"channelmode\",event.controller={number:data1,name:this.getChannelModeByNumber(data1)},event.value=data2):command===wm.MIDI_CHANNEL_MESSAGES.programchange?(event.type=\"programchange\",event.value=data1):command===wm.MIDI_CHANNEL_MESSAGES.channelaftertouch?(event.type=\"channelaftertouch\",event.value=data1/127):command===wm.MIDI_CHANNEL_MESSAGES.pitchbend?(event.type=\"pitchbend\",event.value=((data2<<7)+data1-8192)/8192):event.type=\"unknownchannelmessage\",this._userHandlers.channel[event.type]&&this._userHandlers.channel[event.type][channel]&&this._userHandlers.channel[event.type][channel].forEach(function(callback){callback(event)})},Input.prototype.getCcNameByNumber=function(number){if(!(0<=(number=Math.floor(number))&&number<=119))throw new RangeError(\"The control change number must be between 0 and 119.\");for(var cc in wm.MIDI_CONTROL_CHANGE_MESSAGES)if(wm.MIDI_CONTROL_CHANGE_MESSAGES.hasOwnProperty(cc)&&number===wm.MIDI_CONTROL_CHANGE_MESSAGES[cc])return cc},Input.prototype.getChannelModeByNumber=function(number){if(!(120<=(number=Math.floor(number))&&status<=127))throw new RangeError(\"The control change number must be between 120 and 127.\");for(var cm in wm.MIDI_CHANNEL_MODE_MESSAGES)if(wm.MIDI_CHANNEL_MODE_MESSAGES.hasOwnProperty(cm)&&number===wm.MIDI_CHANNEL_MODE_MESSAGES[cm])return cm},Input.prototype._parseSystemEvent=function(e){var command=e.data[0],event={target:this,data:e.data,timestamp:e.timeStamp};command===wm.MIDI_SYSTEM_MESSAGES.sysex?event.type=\"sysex\":command===wm.MIDI_SYSTEM_MESSAGES.timecode?event.type=\"timecode\":command===wm.MIDI_SYSTEM_MESSAGES.songposition?event.type=\"songposition\":command===wm.MIDI_SYSTEM_MESSAGES.songselect?(event.type=\"songselect\",event.song=e.data[1]):command===wm.MIDI_SYSTEM_MESSAGES.tuningrequest?event.type=\"tuningrequest\":command===wm.MIDI_SYSTEM_MESSAGES.clock?event.type=\"clock\":command===wm.MIDI_SYSTEM_MESSAGES.start?event.type=\"start\":command===wm.MIDI_SYSTEM_MESSAGES.continue?event.type=\"continue\":command===wm.MIDI_SYSTEM_MESSAGES.stop?event.type=\"stop\":command===wm.MIDI_SYSTEM_MESSAGES.activesensing?event.type=\"activesensing\":command===wm.MIDI_SYSTEM_MESSAGES.reset?event.type=\"reset\":event.type=\"unknownsystemmessage\",this._userHandlers.system[event.type]&&this._userHandlers.system[event.type].forEach(function(callback){callback(event)})},Output.prototype.send=function(status,data,timestamp){if(!(128<=status&&status<=255))throw new RangeError(\"The status byte must be an integer between 128 (0x80) and 255 (0xFF).\");void 0===data&&(data=[]),Array.isArray(data)||(data=[data]);var message=[];return data.forEach(function(item){var parsed=Math.floor(item);if(!(0<=parsed&&parsed<=255))throw new RangeError(\"Data bytes must be integers between 0 (0x00) and 255 (0xFF).\");message.push(parsed)}),this._midiOutput.send([status].concat(message),parseFloat(timestamp)||0),this},Output.prototype.sendSysex=function(manufacturer,data,options){if(!wm.sysexEnabled)throw new Error(\"Sysex message support must first be activated.\");return options=options||{},manufacturer=[].concat(manufacturer),data.forEach(function(item){if(item<0||127<item)throw new RangeError(\"The data bytes of a sysex message must be integers between 0 (0x00) and 127 (0x7F).\")}),data=manufacturer.concat(data,wm.MIDI_SYSTEM_MESSAGES.sysexend),this.send(wm.MIDI_SYSTEM_MESSAGES.sysex,data,this._parseTimeParameter(options.time)),this},Output.prototype.sendTimecodeQuarterFrame=function(value,options){return options=options||{},this.send(wm.MIDI_SYSTEM_MESSAGES.timecode,value,this._parseTimeParameter(options.time)),this},Output.prototype.sendSongPosition=function(value,options){options=options||{};var msb=(value=Math.floor(value)||0)>>7&127,lsb=127&value;return this.send(wm.MIDI_SYSTEM_MESSAGES.songposition,[msb,lsb],this._parseTimeParameter(options.time)),this},Output.prototype.sendSongSelect=function(value,options){if(options=options||{},!(0<=(value=Math.floor(value))&&value<=127))throw new RangeError(\"The song number must be between 0 and 127.\");return this.send(wm.MIDI_SYSTEM_MESSAGES.songselect,[value],this._parseTimeParameter(options.time)),this},Output.prototype.sendTuningRequest=function(options){return options=options||{},this.send(wm.MIDI_SYSTEM_MESSAGES.tuningrequest,void 0,this._parseTimeParameter(options.time)),this},Output.prototype.sendClock=function(options){return options=options||{},this.send(wm.MIDI_SYSTEM_MESSAGES.clock,void 0,this._parseTimeParameter(options.time)),this},Output.prototype.sendStart=function(options){return options=options||{},this.send(wm.MIDI_SYSTEM_MESSAGES.start,void 0,this._parseTimeParameter(options.time)),this},Output.prototype.sendContinue=function(options){return options=options||{},this.send(wm.MIDI_SYSTEM_MESSAGES.continue,void 0,this._parseTimeParameter(options.time)),this},Output.prototype.sendStop=function(options){return options=options||{},this.send(wm.MIDI_SYSTEM_MESSAGES.stop,void 0,this._parseTimeParameter(options.time)),this},Output.prototype.sendActiveSensing=function(options){return options=options||{},this.send(wm.MIDI_SYSTEM_MESSAGES.activesensing,[],this._parseTimeParameter(options.time)),this},Output.prototype.sendReset=function(options){return options=options||{},this.send(wm.MIDI_SYSTEM_MESSAGES.reset,void 0,this._parseTimeParameter(options.time)),this},Output.prototype.stopNote=function(note,channel,options){if(\"all\"===note)return this.sendChannelMode(\"allnotesoff\",0,channel,options);var nVelocity=64;return(options=options||{}).rawVelocity?!isNaN(options.velocity)&&0<=options.velocity&&options.velocity<=127&&(nVelocity=options.velocity):!isNaN(options.velocity)&&0<=options.velocity&&options.velocity<=1&&(nVelocity=127*options.velocity),this._convertNoteToArray(note).forEach(function(item){wm.toMIDIChannels(channel).forEach(function(ch){this.send((wm.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(ch-1),[item,Math.round(nVelocity)],this._parseTimeParameter(options.time))}.bind(this))}.bind(this)),this},Output.prototype.playNote=function(note,channel,options){var time,nVelocity=64;if((options=options||{}).rawVelocity?!isNaN(options.velocity)&&0<=options.velocity&&options.velocity<=127&&(nVelocity=options.velocity):!isNaN(options.velocity)&&0<=options.velocity&&options.velocity<=1&&(nVelocity=127*options.velocity),time=this._parseTimeParameter(options.time),this._convertNoteToArray(note).forEach(function(item){wm.toMIDIChannels(channel).forEach(function(ch){this.send((wm.MIDI_CHANNEL_MESSAGES.noteon<<4)+(ch-1),[item,Math.round(nVelocity)],time)}.bind(this))}.bind(this)),!isNaN(options.duration)){options.duration<=0&&(options.duration=0);var nRelease=64;options.rawVelocity?!isNaN(options.release)&&0<=options.release&&options.release<=127&&(nRelease=options.release):!isNaN(options.release)&&0<=options.release&&options.release<=1&&(nRelease=127*options.release),this._convertNoteToArray(note).forEach(function(item){wm.toMIDIChannels(channel).forEach(function(ch){this.send((wm.MIDI_CHANNEL_MESSAGES.noteoff<<4)+(ch-1),[item,Math.round(nRelease)],(time||wm.time)+options.duration)}.bind(this))}.bind(this))}return this},Output.prototype.sendKeyAftertouch=function(note,channel,pressure,options){var that=this;if(options=options||{},channel<1||16<channel)throw new RangeError(\"The channel must be between 1 and 16.\");(isNaN(pressure)||pressure<0||1<pressure)&&(pressure=.5);var nPressure=Math.round(127*pressure);return this._convertNoteToArray(note).forEach(function(item){wm.toMIDIChannels(channel).forEach(function(ch){that.send((wm.MIDI_CHANNEL_MESSAGES.keyaftertouch<<4)+(ch-1),[item,nPressure],that._parseTimeParameter(options.time))})}),this},Output.prototype.sendControlChange=function(controller,value,channel,options){if(options=options||{},\"string\"==typeof controller){if(void 0===(controller=wm.MIDI_CONTROL_CHANGE_MESSAGES[controller]))throw new TypeError(\"Invalid controller name.\")}else if(!(0<=(controller=Math.floor(controller))&&controller<=119))throw new RangeError(\"Controller numbers must be between 0 and 119.\");if(!(0<=(value=Math.floor(value)||0)&&value<=127))throw new RangeError(\"Controller value must be between 0 and 127.\");return wm.toMIDIChannels(channel).forEach(function(ch){this.send((wm.MIDI_CHANNEL_MESSAGES.controlchange<<4)+(ch-1),[controller,value],this._parseTimeParameter(options.time))}.bind(this)),this},Output.prototype._selectRegisteredParameter=function(parameter,channel,time){var that=this;if(parameter[0]=Math.floor(parameter[0]),!(0<=parameter[0]&&parameter[0]<=127))throw new RangeError(\"The control65 value must be between 0 and 127\");if(parameter[1]=Math.floor(parameter[1]),!(0<=parameter[1]&&parameter[1]<=127))throw new RangeError(\"The control64 value must be between 0 and 127\");return wm.toMIDIChannels(channel).forEach(function(){that.sendControlChange(101,parameter[0],channel,{time:time}),that.sendControlChange(100,parameter[1],channel,{time:time})}),this},Output.prototype._selectNonRegisteredParameter=function(parameter,channel,time){var that=this;if(parameter[0]=Math.floor(parameter[0]),!(0<=parameter[0]&&parameter[0]<=127))throw new RangeError(\"The control63 value must be between 0 and 127\");if(parameter[1]=Math.floor(parameter[1]),!(0<=parameter[1]&&parameter[1]<=127))throw new RangeError(\"The control62 value must be between 0 and 127\");return wm.toMIDIChannels(channel).forEach(function(){that.sendControlChange(99,parameter[0],channel,{time:time}),that.sendControlChange(98,parameter[1],channel,{time:time})}),this},Output.prototype._setCurrentRegisteredParameter=function(data,channel,time){var that=this;if((data=[].concat(data))[0]=Math.floor(data[0]),!(0<=data[0]&&data[0]<=127))throw new RangeError(\"The msb value must be between 0 and 127\");return wm.toMIDIChannels(channel).forEach(function(){that.sendControlChange(6,data[0],channel,{time:time})}),data[1]=Math.floor(data[1]),0<=data[1]&&data[1]<=127&&wm.toMIDIChannels(channel).forEach(function(){that.sendControlChange(38,data[1],channel,{time:time})}),this},Output.prototype._deselectRegisteredParameter=function(channel,time){var that=this;return wm.toMIDIChannels(channel).forEach(function(){that.sendControlChange(101,127,channel,{time:time}),that.sendControlChange(100,127,channel,{time:time})}),this},Output.prototype.setRegisteredParameter=function(parameter,data,channel,options){var that=this;if(options=options||{},!Array.isArray(parameter)){if(!wm.MIDI_REGISTERED_PARAMETER[parameter])throw new Error(\"The specified parameter is not available.\");parameter=wm.MIDI_REGISTERED_PARAMETER[parameter]}return wm.toMIDIChannels(channel).forEach(function(){that._selectRegisteredParameter(parameter,channel,options.time),that._setCurrentRegisteredParameter(data,channel,options.time),that._deselectRegisteredParameter(channel,options.time)}),this},Output.prototype.setNonRegisteredParameter=function(parameter,data,channel,options){var that=this;if(options=options||{},!(0<=parameter[0]&&parameter[0]<=127&&0<=parameter[1]&&parameter[1]<=127))throw new Error(\"Position 0 and 1 of the 2-position parameter array must both be between 0 and 127.\");return data=[].concat(data),wm.toMIDIChannels(channel).forEach(function(){that._selectNonRegisteredParameter(parameter,channel,options.time),that._setCurrentRegisteredParameter(data,channel,options.time),that._deselectRegisteredParameter(channel,options.time)}),this},Output.prototype.incrementRegisteredParameter=function(parameter,channel,options){var that=this;if(options=options||{},!Array.isArray(parameter)){if(!wm.MIDI_REGISTERED_PARAMETER[parameter])throw new Error(\"The specified parameter is not available.\");parameter=wm.MIDI_REGISTERED_PARAMETER[parameter]}return wm.toMIDIChannels(channel).forEach(function(){that._selectRegisteredParameter(parameter,channel,options.time),that.sendControlChange(96,0,channel,{time:options.time}),that._deselectRegisteredParameter(channel,options.time)}),this},Output.prototype.decrementRegisteredParameter=function(parameter,channel,options){if(options=options||{},!Array.isArray(parameter)){if(!wm.MIDI_REGISTERED_PARAMETER[parameter])throw new TypeError(\"The specified parameter is not available.\");parameter=wm.MIDI_REGISTERED_PARAMETER[parameter]}return wm.toMIDIChannels(channel).forEach(function(){this._selectRegisteredParameter(parameter,channel,options.time),this.sendControlChange(97,0,channel,{time:options.time}),this._deselectRegisteredParameter(channel,options.time)}.bind(this)),this},Output.prototype.setPitchBendRange=function(semitones,cents,channel,options){var that=this;if(options=options||{},!(0<=(semitones=Math.floor(semitones)||0)&&semitones<=127))throw new RangeError(\"The semitones value must be between 0 and 127\");if(!(0<=(cents=Math.floor(cents)||0)&&cents<=127))throw new RangeError(\"The cents value must be between 0 and 127\");return wm.toMIDIChannels(channel).forEach(function(){that.setRegisteredParameter(\"pitchbendrange\",[semitones,cents],channel,{time:options.time})}),this},Output.prototype.setModulationRange=function(semitones,cents,channel,options){var that=this;if(options=options||{},!(0<=(semitones=Math.floor(semitones)||0)&&semitones<=127))throw new RangeError(\"The semitones value must be between 0 and 127\");if(!(0<=(cents=Math.floor(cents)||0)&&cents<=127))throw new RangeError(\"The cents value must be between 0 and 127\");return wm.toMIDIChannels(channel).forEach(function(){that.setRegisteredParameter(\"modulationrange\",[semitones,cents],channel,{time:options.time})}),this},Output.prototype.setMasterTuning=function(value,channel,options){var that=this;if(options=options||{},(value=parseFloat(value)||0)<=-65||64<=value)throw new RangeError(\"The value must be a decimal number larger than -65 and smaller than 64.\");var coarse=Math.floor(value)+64,fine=value-Math.floor(value),msb=(fine=Math.round((fine+1)/2*16383))>>7&127,lsb=127&fine;return wm.toMIDIChannels(channel).forEach(function(){that.setRegisteredParameter(\"channelcoarsetuning\",coarse,channel,{time:options.time}),that.setRegisteredParameter(\"channelfinetuning\",[msb,lsb],channel,{time:options.time})}),this},Output.prototype.setTuningProgram=function(value,channel,options){var that=this;if(options=options||{},!(0<=(value=Math.floor(value))&&value<=127))throw new RangeError(\"The program value must be between 0 and 127\");return wm.toMIDIChannels(channel).forEach(function(){that.setRegisteredParameter(\"tuningprogram\",value,channel,{time:options.time})}),this},Output.prototype.setTuningBank=function(value,channel,options){var that=this;if(options=options||{},!(0<=(value=Math.floor(value)||0)&&value<=127))throw new RangeError(\"The bank value must be between 0 and 127\");return wm.toMIDIChannels(channel).forEach(function(){that.setRegisteredParameter(\"tuningbank\",value,channel,{time:options.time})}),this},Output.prototype.sendChannelMode=function(command,value,channel,options){if(options=options||{},\"string\"==typeof command){if(!(command=wm.MIDI_CHANNEL_MODE_MESSAGES[command]))throw new TypeError(\"Invalid channel mode message name.\")}else if(!(120<=(command=Math.floor(command))&&command<=127))throw new RangeError(\"Channel mode numerical identifiers must be between 120 and 127.\");if((value=Math.floor(value)||0)<0||127<value)throw new RangeError(\"Value must be an integer between 0 and 127.\");return wm.toMIDIChannels(channel).forEach(function(ch){this.send((wm.MIDI_CHANNEL_MESSAGES.channelmode<<4)+(ch-1),[command,value],this._parseTimeParameter(options.time))}.bind(this)),this},Output.prototype.sendProgramChange=function(program,channel,options){var that=this;if(options=options||{},program=Math.floor(program),isNaN(program)||program<0||127<program)throw new RangeError(\"Program numbers must be between 0 and 127.\");return wm.toMIDIChannels(channel).forEach(function(ch){that.send((wm.MIDI_CHANNEL_MESSAGES.programchange<<4)+(ch-1),[program],that._parseTimeParameter(options.time))}),this},Output.prototype.sendChannelAftertouch=function(pressure,channel,options){var that=this;options=options||{},pressure=parseFloat(pressure),(isNaN(pressure)||pressure<0||1<pressure)&&(pressure=.5);var nPressure=Math.round(127*pressure);return wm.toMIDIChannels(channel).forEach(function(ch){that.send((wm.MIDI_CHANNEL_MESSAGES.channelaftertouch<<4)+(ch-1),[nPressure],that._parseTimeParameter(options.time))}),this},Output.prototype.sendPitchBend=function(bend,channel,options){var that=this;if(options=options||{},isNaN(bend)||bend<-1||1<bend)throw new RangeError(\"Pitch bend value must be between -1 and 1.\");var nLevel=Math.round((bend+1)/2*16383),msb=nLevel>>7&127,lsb=127&nLevel;return wm.toMIDIChannels(channel).forEach(function(ch){that.send((wm.MIDI_CHANNEL_MESSAGES.pitchbend<<4)+(ch-1),[lsb,msb],that._parseTimeParameter(options.time))}),this},Output.prototype._parseTimeParameter=function(time){var value,parsed=parseFloat(time);return\"string\"==typeof time&&\"+\"===time.substring(0,1)?parsed&&0<parsed&&(value=wm.time+parsed):parsed>wm.time&&(value=parsed),value},Output.prototype._convertNoteToArray=function(note){var notes=[];return Array.isArray(note)||(note=[note]),note.forEach(function(item){notes.push(wm.guessNoteNumber(item))}),notes},\"function\"==typeof define&&\"object\"==typeof define.amd?define([],function(){return wm}):\"undefined\"!=typeof module&&module.exports?module.exports=wm:scope.WebMidi||(scope.WebMidi=wm)}(this);","export enum Drum808 {\n    KICK = \"C2\",\n    SNARE = \"D2\",\n    HIHAT = \"F#2\"\n}\n\nexport enum Instrument {\n    KICK,\n    SNARE,\n    HIHAT\n}\n\nexport interface TrackData {\n    note: Drum808;\n    clockDividor: number;\n    beat: number;\n    k: number;\n    n: number;\n    pattern: number[];\n}\n","import options from './options';\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\ti;\n\tfor (i in props) {\n\t\tif (i !== 'key' && i !== 'ref') normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 3) {\n\t\tchildren = [children];\n\t\t// https://github.com/preactjs/preact/issues/1916\n\t\tfor (i = 3; i < arguments.length; i++) {\n\t\t\tchildren.push(arguments[i]);\n\t\t}\n\t}\n\tif (children != null) {\n\t\tnormalizedProps.children = children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type === 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(\n\t\ttype,\n\t\tnormalizedProps,\n\t\tprops && props.key,\n\t\tprops && props.ref\n\t);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t_lastDomChild: null,\n\t\t_component: null,\n\t\tconstructor: undefined\n\t};\n\n\tif (options.vnode) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn {};\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\tupdate = update(s, this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tthis._force = false;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type === 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tlet newDom = diff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\tassign({}, vnode),\n\t\t\tcomponent._context,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tnull,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (newDom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet q = [];\n\n/**\n * Asynchronously schedule a callback\n * @type {(cb: () => void) => void}\n */\n/* istanbul ignore next */\n// Note the following line isn't tree-shaken by rollup cuz of rollup/rollup#2566\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty && (c._dirty = true) && q.push(c) === 1) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet p;\n\tq.sort((a, b) => b._vnode._depth - a._vnode._depth);\n\twhile ((p = q.pop())) {\n\t\t// forceUpdate's callback argument is reused here to indicate a non-forced update.\n\t\tif (p._dirty) renderComponent(p);\n\t}\n}\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { removeNode } from '../util';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} context The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {Node | Text} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\tnewParentVNode,\n\toldParentVNode,\n\tcontext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, newDom, sibDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\t// Only in very specific places should this logic be invoked (top level `render` and `diffElementNodes`).\n\t// I'm using `EMPTY_OBJ` to signal when `diffChildren` is invoked in these situations. I can't use `null`\n\t// for this purpose, because `null` is a valid value for `oldDom` which can mean to skip to this logic\n\t// (e.g. if mounting a new tree in which the old DOM should be ignored (usually for Fragments).\n\tif (oldDom == EMPTY_OBJ) {\n\t\tif (excessDomChildren != null) {\n\t\t\toldDom = excessDomChildren[0];\n\t\t} else if (oldChildrenLength) {\n\t\t\toldDom = getDomSibling(oldParentVNode, 0);\n\t\t} else {\n\t\t\toldDom = null;\n\t\t}\n\t}\n\n\ti = 0;\n\tnewParentVNode._children = toChildArray(\n\t\tnewParentVNode._children,\n\t\tchildVNode => {\n\t\t\tif (childVNode != null) {\n\t\t\t\tchildVNode._parent = newParentVNode;\n\t\t\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t\t\t// Check if we find a corresponding element in oldChildren.\n\t\t\t\t// If found, delete the array item by setting to `undefined`.\n\t\t\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t\t\t// (holes).\n\t\t\t\toldVNode = oldChildren[i];\n\n\t\t\t\tif (\n\t\t\t\t\toldVNode === null ||\n\t\t\t\t\t(oldVNode &&\n\t\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t\t\t) {\n\t\t\t\t\toldChildren[i] = undefined;\n\t\t\t\t} else {\n\t\t\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t\t\t// We always match by type (in either case).\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\toldVNode &&\n\t\t\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\toldVNode = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\t\t\tnewDom = diff(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\tcontext,\n\t\t\t\t\tisSvg,\n\t\t\t\t\texcessDomChildren,\n\t\t\t\t\tcommitQueue,\n\t\t\t\t\toldDom,\n\t\t\t\t\tisHydrating\n\t\t\t\t);\n\n\t\t\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\t\t\tif (!refs) refs = [];\n\t\t\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t\t\t}\n\n\t\t\t\t// Only proceed if the vnode has not been unmounted by `diff()` above.\n\t\t\t\tif (newDom != null) {\n\t\t\t\t\tif (firstChildDom == null) {\n\t\t\t\t\t\tfirstChildDom = newDom;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (childVNode._lastDomChild != null) {\n\t\t\t\t\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t\t\t\t\t// have a non-null _lastDomChild. Continue the diff from the end of\n\t\t\t\t\t\t// this Fragment's DOM tree.\n\t\t\t\t\t\tnewDom = childVNode._lastDomChild;\n\n\t\t\t\t\t\t// Eagerly cleanup _lastDomChild. We don't need to persist the value because\n\t\t\t\t\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t\t\t\t\t// diffing Components and Fragments.\n\t\t\t\t\t\tchildVNode._lastDomChild = null;\n\t\t\t\t\t} else if (\n\t\t\t\t\t\texcessDomChildren == oldVNode ||\n\t\t\t\t\t\tnewDom != oldDom ||\n\t\t\t\t\t\tnewDom.parentNode == null\n\t\t\t\t\t) {\n\t\t\t\t\t\t// NOTE: excessDomChildren==oldVNode above:\n\t\t\t\t\t\t// This is a compression of excessDomChildren==null && oldVNode==null!\n\t\t\t\t\t\t// The values only have the same type when `null`.\n\n\t\t\t\t\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\t\t\t\t\tparentDom.appendChild(newDom);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\t\tsibDom = oldDom, j = 0;\n\t\t\t\t\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildrenLength;\n\t\t\t\t\t\t\t\tj += 2\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\t\t\t\t\tbreak outer;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Browsers will infer an option's `value` from `textContent` when\n\t\t\t\t\t\t// no value is present. This essentially bypasses our code to set it\n\t\t\t\t\t\t// later in `diff()`. It works fine in all browsers except for IE11\n\t\t\t\t\t\t// where it breaks setting `select.value`. There it will be always set\n\t\t\t\t\t\t// to an empty string. Re-applying an options value will fix that, so\n\t\t\t\t\t\t// there are probably some internal data structures that aren't\n\t\t\t\t\t\t// updated properly.\n\t\t\t\t\t\t//\n\t\t\t\t\t\t// To fix it we make sure to reset the inferred value, so that our own\n\t\t\t\t\t\t// value check in `diff()` won't be skipped.\n\t\t\t\t\t\tif (newParentVNode.type == 'option') {\n\t\t\t\t\t\t\tparentDom.value = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\toldDom = newDom.nextSibling;\n\n\t\t\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t\t\t// At this point, if childVNode._lastDomChild existed, then\n\t\t\t\t\t\t// newDom = childVNode._lastDomChild per line 101. Else it is\n\t\t\t\t\t\t// the same as childVNode._dom, meaning this component returned\n\t\t\t\t\t\t// only a single DOM node\n\t\t\t\t\t\tnewParentVNode._lastDomChild = newDom;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ti++;\n\t\t\treturn childVNode;\n\t\t}\n\t);\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove children that are not part of any vnode.\n\tif (excessDomChildren != null && typeof newParentVNode.type !== 'function') {\n\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t}\n\t}\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) unmount(oldChildren[i], oldChildren[i]);\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @param {(vnode: import('../internal').VNode) => import('../internal').VNode} [callback]\n * A function to invoke for each child before it is added to the flattened list.\n * @param {Array<import('../internal').VNode | string | number>} [flattened] An flat array of children to modify\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, callback, flattened) {\n\tif (flattened == null) flattened = [];\n\n\tif (children == null || typeof children === 'boolean') {\n\t\tif (callback) flattened.push(callback(null));\n\t} else if (Array.isArray(children)) {\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\ttoChildArray(children[i], callback, flattened);\n\t\t}\n\t} else if (!callback) {\n\t\tflattened.push(children);\n\t} else if (typeof children === 'string' || typeof children === 'number') {\n\t\tflattened.push(callback(createVNode(null, children, null, null)));\n\t} else if (children._dom != null || children._component != null) {\n\t\tflattened.push(\n\t\t\tcallback(createVNode(children.type, children.props, children.key, null))\n\t\t);\n\t} else {\n\t\tflattened.push(callback(children));\n\t}\n\n\treturn flattened;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (!(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t} else if (\n\t\ttypeof value === 'number' &&\n\t\tIS_NON_DIMENSIONAL.test(key) === false\n\t) {\n\t\tstyle[key] = value + 'px';\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else {\n\t\tstyle[key] = value;\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nfunction setProperty(dom, name, value, oldValue, isSvg) {\n\tif (isSvg) {\n\t\tif (name === 'className') {\n\t\t\tname = 'class';\n\t\t}\n\t} else if (name === 'class') {\n\t\tname = 'className';\n\t}\n\n\tif (name === 'key' || name === 'children') {\n\t} else if (name === 'style') {\n\t\tconst s = dom.style;\n\n\t\tif (typeof value === 'string') {\n\t\t\ts.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue === 'string') {\n\t\t\t\ts.cssText = '';\n\t\t\t\toldValue = null;\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (let i in oldValue) {\n\t\t\t\t\tif (!(value && i in value)) {\n\t\t\t\t\t\tsetStyle(s, i, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (let i in value) {\n\t\t\t\t\tif (!oldValue || value[i] !== oldValue[i]) {\n\t\t\t\t\t\tsetStyle(s, i, value[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tlet useCapture = name !== (name = name.replace(/Capture$/, ''));\n\t\tlet nameLower = name.toLowerCase();\n\t\tname = (nameLower in dom ? nameLower : name).slice(2);\n\n\t\tif (value) {\n\t\t\tif (!oldValue) dom.addEventListener(name, eventProxy, useCapture);\n\t\t\t(dom._listeners || (dom._listeners = {}))[name] = value;\n\t\t} else {\n\t\t\tdom.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t} else if (\n\t\tname !== 'list' &&\n\t\tname !== 'tagName' &&\n\t\t// HTMLButtonElement.form and HTMLInputElement.form are read-only but can be set using\n\t\t// setAttribute\n\t\tname !== 'form' &&\n\t\tname !== 'type' &&\n\t\t!isSvg &&\n\t\tname in dom\n\t) {\n\t\tdom[name] = value == null ? '' : value;\n\t} else if (\n\t\ttypeof value !== 'function' &&\n\t\tname !== 'dangerouslySetInnerHTML'\n\t) {\n\t\tif (name !== (name = name.replace(/^xlink:?/, ''))) {\n\t\t\tif (value == null || value === false) {\n\t\t\t\tdom.removeAttributeNS(\n\t\t\t\t\t'http://www.w3.org/1999/xlink',\n\t\t\t\t\tname.toLowerCase()\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tdom.setAttributeNS(\n\t\t\t\t\t'http://www.w3.org/1999/xlink',\n\t\t\t\t\tname.toLowerCase(),\n\t\t\t\t\tvalue\n\t\t\t\t);\n\t\t\t}\n\t\t} else if (value == null || value === false) {\n\t\t\tdom.removeAttribute(name);\n\t\t} else {\n\t\t\tdom.setAttribute(name, value);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\tthis._listeners[e.type](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { Component } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren, toChildArray } from './children';\nimport { diffProps } from './props';\nimport { assign, removeNode } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} context The current context object\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {Element | Text} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tcontext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType === 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && context[tmp._id];\n\t\t\tlet cctx = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: context;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, cctx); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, cctx);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = cctx;\n\t\t\t\tc._context = context;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, cctx);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t!c._force &&\n\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\tc.shouldComponentUpdate(newProps, c._nextState, cctx) === false\n\t\t\t\t) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\t\t\t\t\tfor (tmp = 0; tmp < newVNode._children.length; tmp++) {\n\t\t\t\t\t\tif (newVNode._children[tmp]) {\n\t\t\t\t\t\t\tnewVNode._children[tmp]._parent = newVNode;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, cctx);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = cctx;\n\t\t\tc.props = newProps;\n\t\t\tc.state = c._nextState;\n\n\t\t\tif ((tmp = options._render)) tmp(newVNode);\n\n\t\t\tc._dirty = false;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\ttmp = c.render(c.props, c.state, c.context);\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type == Fragment && tmp.key == null;\n\t\t\tnewVNode._children = toChildArray(\n\t\t\t\tisTopLevelFragment ? tmp.props.children : tmp\n\t\t\t);\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tcontext = assign(assign({}, context), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tcontext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = null;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tcontext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n\n\treturn newVNode._dom;\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} context The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tcontext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet i;\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tisSvg = newVNode.type === 'svg' || isSvg;\n\n\tif (dom == null && excessDomChildren != null) {\n\t\tfor (i = 0; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\tif (\n\t\t\t\tchild != null &&\n\t\t\t\t(newVNode.type === null\n\t\t\t\t\t? child.nodeType === 3\n\t\t\t\t\t: child.localName === newVNode.type)\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (newVNode.type === null) {\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\t\tdom = isSvg\n\t\t\t? document.createElementNS('http://www.w3.org/2000/svg', newVNode.type)\n\t\t\t: document.createElement(newVNode.type);\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t}\n\n\tif (newVNode.type === null) {\n\t\tif (excessDomChildren != null) {\n\t\t\texcessDomChildren[excessDomChildren.indexOf(dom)] = null;\n\t\t}\n\n\t\tif (oldProps !== newProps && dom.data != newProps) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else if (newVNode !== oldVNode) {\n\t\tif (excessDomChildren != null) {\n\t\t\texcessDomChildren = EMPTY_ARR.slice.call(dom.childNodes);\n\t\t}\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\tif (oldProps === EMPTY_OBJ) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (let i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (!newHtml || !oldHtml || newHtml.__html != oldHtml.__html) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\tnewVNode._children = newVNode.props.children;\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (!newHtml) {\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tcontext,\n\t\t\t\tnewVNode.type === 'foreignObject' ? false : isSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tEMPTY_OBJ,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\tnewProps.value !== undefined &&\n\t\t\t\tnewProps.value !== dom.value\n\t\t\t) {\n\t\t\t\tdom.value = newProps.value == null ? '' : newProps.value;\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\tnewProps.checked !== undefined &&\n\t\t\t\tnewProps.checked !== dom.checked\n\t\t\t) {\n\t\t\t\tdom.checked = newProps.checked;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) applyRef(r, null, parentVNode);\n\t}\n\n\tlet dom;\n\tif (!skipRemove && typeof vnode.type !== 'function') {\n\t\tskipRemove = (dom = vnode._dom) != null;\n\t}\n\n\tvnode._dom = vnode._lastDomChild = null;\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) unmount(r[i], parentVNode, skipRemove);\n\t\t}\n\t}\n\n\tif (dom != null) removeNode(dom);\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { EMPTY_OBJ, EMPTY_ARR } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\n\nconst IS_HYDRATE = EMPTY_OBJ;\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./index').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {Element | Text} [replaceNode] Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\tlet isHydrating = replaceNode === IS_HYDRATE;\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\tvnode = createElement(Fragment, null, [vnode]);\n\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t((isHydrating ? parentDom : replaceNode || parentDom)._children = vnode),\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\treplaceNode && !isHydrating\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: EMPTY_ARR.slice.call(parentDom.childNodes),\n\t\tcommitQueue,\n\t\treplaceNode || EMPTY_OBJ,\n\t\tisHydrating\n\t);\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./index').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, IS_HYDRATE);\n}\n","import { assign } from './util';\nimport { EMPTY_ARR } from './constants';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./index').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n */\nexport function cloneElement(vnode, props) {\n\tprops = assign(assign({}, vnode.props), props);\n\tif (arguments.length > 2) props.children = EMPTY_ARR.slice.call(arguments, 2);\n\treturn createVNode(\n\t\tvnode.type,\n\t\tprops,\n\t\tprops.key || vnode.key,\n\t\tprops.ref || vnode.ref\n\t);\n}\n","import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue) {\n\tconst ctx = {};\n\n\tconst context = {\n\t\t_id: '__cC' + i++,\n\t\t_defaultValue: defaultValue,\n\t\tConsumer(props, context) {\n\t\t\treturn props.children(context);\n\t\t},\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\tconst subs = [];\n\t\t\t\tthis.getChildContext = () => {\n\t\t\t\t\tctx[context._id] = this;\n\t\t\t\t\treturn ctx;\n\t\t\t\t};\n\t\t\t\tthis.shouldComponentUpdate = _props => {\n\t\t\t\t\tif (props.value !== _props.value) {\n\t\t\t\t\t\tsubs.some(c => {\n\t\t\t\t\t\t\tc.context = _props.value;\n\t\t\t\t\t\t\tenqueueRender(c);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\told && old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\tcontext.Consumer.contextType = context;\n\n\treturn context;\n}\n","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n","import { _catchError } from './diff/catch-error';\n\n/** @type {import('./internal').Options}  */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","import { enqueueRender } from '../component';\n\n/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n */\nexport function _catchError(error, vnode) {\n\t/** @type {import('../internal').Component} */\n\tlet component, hasCaught;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tif (\n\t\t\t\t\tcomponent.constructor &&\n\t\t\t\t\tcomponent.constructor.getDerivedStateFromError != null\n\t\t\t\t) {\n\t\t\t\t\thasCaught = true;\n\t\t\t\t\tcomponent.setState(\n\t\t\t\t\t\tcomponent.constructor.getDerivedStateFromError(error)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\thasCaught = true;\n\t\t\t\t\tcomponent.componentDidCatch(error);\n\t\t\t\t}\n\n\t\t\t\tif (hasCaught)\n\t\t\t\t\treturn enqueueRender((component._pendingError = component));\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","/* global __webpack_public_path__ */\n\nimport { h, render } from 'preact';\n\nconst interopDefault = m => (m && m.default ? m.default : m);\n\nif (process.env.NODE_ENV === 'development') {\n\t// enable preact devtools\n\trequire('preact/debug');\n\tif (process.env.RHL) {\n\t\t// enable hot loader\n\t\tconst hotLoader = interopDefault(require('react-hot-loader'));\n\t\thotLoader.preact(interopDefault(require('preact')));\n\t}\n\t// only add a debug sw if webpack service worker is not requested.\n\tif (process.env.ADD_SW === undefined && 'serviceWorker' in navigator) {\n\t\t// eslint-disable-next-line no-undef\n\t\tnavigator.serviceWorker.register(__webpack_public_path__ + 'sw-debug.js');\n\t} else if (process.env.ADD_SW && 'serviceWorker' in navigator) {\n\t\t// eslint-disable-next-line no-undef\n\t\tnavigator.serviceWorker.register(\n\t\t\t__webpack_public_path__ + (process.env.ES_BUILD ? 'sw-esm.js' : 'sw.js')\n\t\t);\n\t}\n} else if (process.env.ADD_SW && 'serviceWorker' in navigator) {\n\t// eslint-disable-next-line no-undef\n\tnavigator.serviceWorker.register(\n\t\t__webpack_public_path__ + (process.env.ES_BUILD ? 'sw-esm.js' : 'sw.js')\n\t);\n}\n\nlet app = interopDefault(require('preact-cli-entrypoint'));\n\nif (typeof app === 'function') {\n\tlet root = document.body.firstElementChild;\n\n\tlet init = () => {\n\t\tlet app = interopDefault(require('preact-cli-entrypoint'));\n\t\tlet preRenderData = {};\n\t\tconst inlineDataElement = document.querySelector(\n\t\t\t'[type=\"__PREACT_CLI_DATA__\"]'\n\t\t);\n\t\tif (inlineDataElement) {\n\t\t\tpreRenderData = JSON.parse(inlineDataElement.innerHTML).preRenderData;\n\t\t}\n\t\t/* An object named CLI_DATA is passed as a prop,\n\t\t * this keeps us future proof if in case we decide,\n\t\t * to send other data like at some point in time.\n\t\t */\n\t\tconst CLI_DATA = { preRenderData };\n\t\troot = render(h(app, { CLI_DATA }), document.body, root);\n\t};\n\n\tif (module.hot) module.hot.accept('preact-cli-entrypoint', init);\n\n\tinit();\n}\n"],"sourceRoot":""}